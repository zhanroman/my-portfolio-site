/* Reuse global variables from base. Only component-specific additions below */

.case-progress {
  position: fixed; top:0; left:0; height:3px; width:100%;
  background: var(--gradient-accent);
  transform-origin:0 50%; transform:scaleX(0);
  transition:transform .12s linear; z-index:1200; pointer-events:none;
}

.case-hero { padding:96px 0 56px; display:flex; flex-direction:column; gap:40px; }
.case-hero__badge { background:var(--c-bg-alt); border:1px solid var(--c-border); padding:6px 14px; border-radius:40px; font:600 12px/1 'Manrope',sans-serif; letter-spacing:.5px; text-transform:uppercase; color:var(--c-text-soft); }
.case-hero__title { font-size:clamp(32px,5vw,50px); margin:0 0 12px; line-height:1.05; font-weight:700; }
.case-hero__lead { font-size:clamp(18px,2.4vw,26px); font-weight:500; margin:0 0 10px; line-height:1.3; max-width:980px; }
.case-hero__sub { font-size:18px; max-width:900px; line-height:1.5; margin:0 0 28px; }
.highlight-thought { background:linear-gradient(135deg,rgba(0,157,144,.12),rgba(0,157,144,.04)); border:1px solid var(--c-border); padding:14px 18px 16px; border-radius:var(--radius-lg); font-weight:600; }
.case-hero__cta { display:flex; gap:16px; flex-wrap:wrap; }

.case-layout { display:flex; align-items:flex-start; gap:64px; position:relative; }
.case-toc { flex:0 0 240px; position:sticky; top:120px; background:var(--c-bg); border:1px solid var(--c-border); border-radius:var(--radius-lg); padding:18px 18px 22px; box-shadow:var(--shadow-lg); font-size:13px; max-height:calc(100vh - 160px); overflow-y:auto; scrollbar-width:thin; }
.case-toc__title { margin:0 0 10px; font-size:12px; font-weight:700; opacity:.6; letter-spacing:.5px; text-transform:uppercase; }
.case-toc__list { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:4px; }
.case-toc__list a { display:block; padding:6px 10px; border-radius:var(--radius-sm); text-decoration:none; color:var(--c-text-soft); font-weight:500; transition:background .25s,color .25s; line-height:1.25; }
.case-toc__list a.active,
.case-toc__list a:hover { background:var(--c-bg-alt); color:var(--c-text); }
.case-toc__close { display:none; }
.case-content-flow { flex:1 1 auto; max-width:880px; min-width:0; }

.case-section { padding:96px 0 80px; }
.case-section:nth-child(even) { background:var(--c-bg-alt); margin:0 calc(-1 * var(--content-padding)); padding-left:var(--content-padding); padding-right:var(--content-padding); }
.case-h2 { margin:0 0 28px; font-size:clamp(28px,4vw,40px); line-height:1.1; }
.case-lead { font-size:18px; line-height:1.55; max-width:780px; margin:0 0 42px; color:var(--c-text-soft); }
.case-h3-sm { font-size:18px; margin:0 0 12px; font-weight:600; }

.case-grid { display:grid; gap:56px; }
.case-grid--split { grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); }

.case-card { background:var(--c-bg); border:1px solid var(--c-border); border-radius:var(--radius-lg); padding:28px 32px 32px; display:flex; flex-direction:column; gap:20px; box-shadow:var(--shadow-sm); }
.case-card--accent { background:var(--gradient-accent); color:var(--c-accent-fg); border:0; }
.case-card--accent li { color:var(--c-accent-fg); }

.case-note { background:var(--c-bg); border:1px solid var(--c-border); border-radius:var(--radius-lg); padding:22px 26px 26px; font-size:14px; line-height:1.5; box-shadow:var(--shadow-sm); }

.case-list { margin:0; padding-left:18px; display:flex; flex-direction:column; gap:10px; font-size:15px; line-height:1.5; }
.case-list--checked { list-style:none; padding-left:0; }
.case-list--checked li { position:relative; padding-left:28px; }
.case-list--checked li:before { content:""; width:16px; height:16px; position:absolute; left:0; top:4px; background:var(--c-accent); border-radius:4px; box-shadow:0 0 0 2px var(--c-accent) inset; mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' stroke='white' stroke-width='3' fill='none' viewBox='0 0 24 24'><path d='M5 13l4 4L19 7'/></svg>") center/14px 14px no-repeat; }

.case-sol-points { display:grid; gap:40px 56px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); margin-top:12px; }
.case-sol-item p { margin:4px 0 0; font-size:14px; line-height:1.55; color:var(--c-text-soft); }

.case-features { display:grid; gap:26px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); margin-top:8px; }
.feat { background:var(--c-bg); border:1px solid var(--c-border); border-radius:var(--radius-lg); padding:18px 18px 22px; font-size:14px; line-height:1.5; transition:transform .35s var(--ease-emph), border-color .35s; position:relative; overflow:hidden; }
.feat:before { content:""; position:absolute; inset:0; background:linear-gradient(140deg,rgba(0,157,144,.08),transparent 60%); opacity:0; transition:opacity .4s; }
.feat:hover { transform:translateY(-6px); border-color:var(--c-border-strong); }
.feat:hover:before { opacity:1; }
.feat h3 { margin:0 0 6px; font-size:15px; font-weight:600; }

.case-arch-wrapper { display:flex; flex-direction:column; gap:56px; }
.case-arch-diagrams { display:grid; gap:56px; grid-template-columns:repeat(auto-fit,minmax(380px,1fr)); }
.case-arch-block { background:var(--c-bg); border:1px solid var(--c-border); border-radius:var(--radius-lg); padding:28px 28px 32px; box-shadow:var(--shadow-sm); }
.case-arch-text { background:var(--c-bg-alt); border:1px solid var(--c-border); border-radius:var(--radius-lg); padding:36px 40px; }

.snippet-wrap { margin-bottom:40px; }
.snippet-wrap:last-child { margin-bottom:0; }
.code { margin:10px 0 0; background:var(--c-bg-alt); border:1px solid var(--c-border); padding:16px 18px; border-radius:var(--radius-md); font-size:13px; line-height:1.55; overflow:auto; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; position:relative; }
.code::-webkit-scrollbar { height:10px; width:10px; }
.code::-webkit-scrollbar-track { background:var(--c-bg); }
.code::-webkit-scrollbar-thumb { background:var(--c-border-strong); border-radius:10px; border:2px solid var(--c-bg); }
html[data-theme="dark"] .code::-webkit-scrollbar-track { background:var(--c-bg-alt); }
html[data-theme="dark"] .code::-webkit-scrollbar-thumb { background:var(--c-border); border-color:var(--c-bg-alt); }

.case-metrics { display:grid; gap:32px; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); margin-top:20px; }
.metric { background:var(--c-bg); border:1px solid var(--c-border); padding:26px 22px 30px; border-radius:var(--radius-lg); position:relative; overflow:hidden; transition:transform .35s var(--ease-standard), border-color .35s; }
.metric:before { content:""; position:absolute; inset:0; background:linear-gradient(120deg,rgba(0,157,144,.1),transparent 70%); opacity:0; transition:opacity .4s; }
.metric:hover { transform:translateY(-6px); border-color:var(--c-border-strong); }
.metric:hover:before { opacity:1; }
.metric__value { font-size:34px; font-weight:700; line-height:1; letter-spacing:-.5px; }
.metric__label { font-size:13px; color:var(--c-text-soft); }

.roadmap { display:grid; gap:26px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); }
.roadmap-item { background:var(--c-bg); border:1px solid var(--c-border); border-radius:var(--radius-lg); padding:20px 22px 26px; font-size:14px; line-height:1.5; transition:transform .35s var(--ease-standard), border-color .35s; }
.roadmap-item:hover { transform:translateY(-6px); border-color:var(--c-border-strong); }
.roadmap-item h3 { margin:0 0 8px; font-size:16px; font-weight:600; }

.faq { display:flex; flex-direction:column; gap:14px; max-width:900px; }
.faq-item { border:1px solid var(--c-border); border-radius:var(--radius-md); background:var(--c-bg); overflow:hidden; transition:border-color .3s, background .3s; }
.faq-item.open { border-color:var(--c-border-strong); }
.faq-item__head { width:100%; background:none; border:0; padding:18px 20px 18px 56px; text-align:left; font:600 15px/1.3 'Manrope',sans-serif; cursor:pointer; position:relative; display:flex; align-items:center; gap:8px; color:var(--c-text); transition:background .25s; }
.faq-item__head:hover { background:var(--c-bg-alt); }
.faq-item__icon { position:absolute; left:20px; top:50%; transform:translateY(-50%); width:20px; height:20px; border-radius:6px; background:var(--c-bg-alt); border:1px solid var(--c-border); }
.faq-item__icon:before,
.faq-item__icon:after { content:""; position:absolute; width:10px; height:2px; background:var(--c-text-soft); left:50%; top:50%; transform:translate(-50%,-50%); border-radius:2px; transition:transform .35s, background .35s; }
.faq-item__icon:after { transform:translate(-50%,-50%) rotate(90deg); }
.faq-item.open .faq-item__icon:after { transform:translate(-50%,-50%) rotate(0deg); }
.faq-item.open .faq-item__icon:before,
.faq-item.open .faq-item__icon:after { background:var(--c-accent); }
.faq-item__panel { padding:0 20px; font-size:14px; line-height:1.55; color:var(--c-text-soft); max-height:0; overflow:hidden; transition:max-height .5s var(--ease-standard), padding .4s; }
.faq-item.open .faq-item__panel { padding:0 20px 18px 56px; }

.case-contact { text-align:left; }
.contact-cta { display:flex; gap:16px; flex-wrap:wrap; margin-bottom:32px; }
.btn--xl { height:54px; font-size:16px; padding:0 28px; border-radius:var(--radius-lg); }

.toc-fab { position:fixed; left:16px; bottom:16px; z-index:600; background:var(--c-accent); color:var(--c-accent-fg); border:0; padding:14px 18px; border-radius:40px; font:600 13px/1 'Manrope',sans-serif; cursor:pointer; box-shadow:var(--shadow-lg); display:none; transition:background .3s, transform .3s; }
.toc-fab:hover { background:var(--c-accent-hover); }
.toc-fab[aria-expanded="true"] { transform:translateY(-4px); }

[data-animate]{opacity:0; transform:translateY(38px); transition:opacity .9s var(--ease-standard), transform .9s var(--ease-emph);}
[data-animate].in{opacity:1; transform:translateY(0);}

@media (max-width:1024px){
  .case-layout { flex-direction:column; gap:0; }
  .case-toc { position:fixed; inset:0; top:0; left:0; width:100%; max-height:none; border-radius:0; border:0; box-shadow:none; padding:100px 28px 40px; transform:translateY(100%); transition:transform .55s var(--ease-emph); z-index:590; }
  .case-toc.open { transform:translateY(0); }
  .case-toc__close { display:flex; position:absolute; top:20px; right:20px; width:44px; height:44px; background:var(--c-bg-alt); border:1px solid var(--c-border); border-radius:var(--radius-md); cursor:pointer; font-size:24px; align-items:center; justify-content:center; }
  .case-toc__close:hover { background:var(--c-bg); }
  .toc-fab { display:inline-flex; }
  body.toc-open { overflow:hidden; }
  .case-section { padding:80px 0 64px; }
  .case-section:nth-child(even){ margin:0 calc(-1 * var(--content-padding)); }
  .case-content-flow { max-width:100%; }
  .case-hero { padding-top:72px; }
  .code { font-size:12.5px; }
}

@media (max-width:600px){
  .case-hero__lead { font-size:20px; }
  .highlight-thought { font-size:16px; padding:12px 16px; }
  .case-section { padding:70px 0 58px; }
}

html[data-theme="dark"] .feat,
html[data-theme="dark"] .metric,
html[data-theme="dark"] .case-card,
html[data-theme="dark"] .roadmap-item,
html[data-theme="dark"] .faq-item,
html[data-theme="dark"] .case-arch-block,
html[data-theme="dark"] .challenge {
  background:var(--c-bg-alt);
}
html[data-theme="dark"] .metric:before,
html[data-theme="dark"] .feat:before { background:linear-gradient(140deg,rgba(0,157,144,.18),transparent 70%); }

.btn--ghost { background:var(--c-bg); }
html[data-theme="dark"] .btn--ghost { background:var(--c-bg-alt); }